/****************************************Copyright (c)**************************************************
**                               广州周立功单片机发展有限公司
**                                     研    究    所
**                                        产品一部 
**
**                                 http://www.zlgmcu.com
**
**--------------文件信息--------------------------------------------------------------------------------
**文   件   名: WDT.c
**创   建   人: 张斌
**最后修改日期: 2006-5-13
**描        述: LPC2200 WDT应用软件包。
**
**--------------历史版本信息----------------------------------------------------------------------------
** 创建人: 张斌
** 版  本: V1.0
** 日　期: 2006-5-13
** 描　述: LPC2200 WDT应用软件包。
**
**------------------------------------------------------------------------------------------------------
** 修改人:
** 版  本:
** 日　期:
** 描　述:
**
**--------------当前版本修订------------------------------------------------------------------------------
** 修改人: 
** 日　期:
** 描　述:
**
**------------------------------------------------------------------------------------------------------
********************************************************************************************************/
#include "config.h"

/*********************************************************************************************************
**函数名称：void FeedDog(void)
**函数功能：执行喂狗序列
**入口参数：无
**出口参数：无 
********************************************************************************************************/
void FeedDog(void)
{
	OS_ENTER_CRITICAL();
    WDFEED = 0xAA;
    WDFEED = 0x55;     
    OS_EXIT_CRITICAL();
}
/*********************************************************************************************************
** 函数名称：void WDT_Init(uint32 time)
** 功能描述：对WDT进行初始化。
** 入口参数：time	超时时间,该值直接写入到WDTC中
** 出口参数：无
** 说明：默认看门狗溢出复位。
********************************************************************************************************/
void WDT_Init(uint32 time)
{	
	WDTC = time;
	WDMOD = 0x03;
	FeedDog();
}
